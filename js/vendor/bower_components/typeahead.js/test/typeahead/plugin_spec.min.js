describe("$plugin",function(){beforeEach(function(){var a;setFixtures('<input class="test-input" type="text" autocomplete="on">');a=$("#jasmine-fixtures");this.$input=a.find(".test-input");this.$input.typeahead(null,{displayKey:"v",source:function(c,b){b([{v:"1"},{v:"2"},{v:"3"}])}})});it("#enable should enable the typaahead",function(){this.$input.typeahead("disable");expect(this.$input.typeahead("isEnabled")).toBe(false);this.$input.typeahead("enable");expect(this.$input.typeahead("isEnabled")).toBe(true)});it("#disable should disable the typaahead",function(){this.$input.typeahead("enable");expect(this.$input.typeahead("isEnabled")).toBe(true);this.$input.typeahead("disable");expect(this.$input.typeahead("isEnabled")).toBe(false)});it("#activate should activate the typaahead",function(){this.$input.typeahead("deactivate");expect(this.$input.typeahead("isActive")).toBe(false);this.$input.typeahead("activate");expect(this.$input.typeahead("isActive")).toBe(true)});it("#activate should fail to activate the typaahead if disabled",function(){this.$input.typeahead("deactivate");expect(this.$input.typeahead("isActive")).toBe(false);this.$input.typeahead("disable");this.$input.typeahead("activate");expect(this.$input.typeahead("isActive")).toBe(false)});it("#deactivate should deactivate the typaahead",function(){this.$input.typeahead("activate");expect(this.$input.typeahead("isActive")).toBe(true);this.$input.typeahead("deactivate");expect(this.$input.typeahead("isActive")).toBe(false)});it("#open should open the menu",function(){this.$input.typeahead("close");expect(this.$input.typeahead("isOpen")).toBe(false);this.$input.typeahead("open");expect(this.$input.typeahead("isOpen")).toBe(true)});it("#close should close the menu",function(){this.$input.typeahead("open");expect(this.$input.typeahead("isOpen")).toBe(true);this.$input.typeahead("close");expect(this.$input.typeahead("isOpen")).toBe(false)});it("#select should select selectable",function(){var a;this.$input.typeahead("activate");this.$input.typeahead("val","o");a=$(".tt-selectable").first();expect(this.$input.typeahead("select",a)).toBe(true);expect(this.$input.typeahead("val")).toBe("1")});it("#select should return false if not valid selectable",function(){var a;this.$input.typeahead("activate");this.$input.typeahead("val","o");a=document.body;expect(this.$input.typeahead("select",a)).toBe(false)});it("#autocomplete should autocomplete to selectable",function(){var a;this.$input.typeahead("activate");this.$input.typeahead("val","o");a=$(".tt-selectable").first();expect(this.$input.typeahead("autocomplete",a)).toBe(true);expect(this.$input.typeahead("val")).toBe("1")});it("#autocomplete should return false if not valid selectable",function(){var a;this.$input.typeahead("activate");this.$input.typeahead("val","o");a=document.body;expect(this.$input.typeahead("autocomplete",a)).toBe(false)});it("#moveCursor should move cursor",function(){var a;this.$input.typeahead("activate");this.$input.typeahead("val","o");a=$(".tt-selectable").first();expect(a).not.toHaveClass("tt-cursor");expect(this.$input.typeahead("moveCursor",1)).toBe(true);expect(a).toHaveClass("tt-cursor")});it("#select should return false if not valid selectable",function(){var a;this.$input.typeahead("activate");this.$input.typeahead("val","o");a=document.body;expect(this.$input.typeahead("select",a)).toBe(false)});it("#val() should typeahead value of element",function(){var a;this.$input.typeahead("val","foo");a=this.$input.add("<div>");expect(a.typeahead("val")).toBe("foo")});it("#val(q) should set query",function(){this.$input.typeahead("val","foo");expect(this.$input.typeahead("val")).toBe("foo")});it("#destroy should revert modified attributes",function(){expect(this.$input).toHaveAttr("autocomplete","off");expect(this.$input).toHaveAttr("dir");expect(this.$input).toHaveAttr("spellcheck");expect(this.$input).toHaveAttr("style");this.$input.typeahead("destroy");expect(this.$input).toHaveAttr("autocomplete","on");expect(this.$input).not.toHaveAttr("dir");expect(this.$input).not.toHaveAttr("spellcheck");expect(this.$input).not.toHaveAttr("style")});it("#destroy should remove data",function(){expect(this.$input.data("tt-www")).toBeTruthy();expect(this.$input.data("tt-attrs")).toBeTruthy();expect(this.$input.data("tt-typeahead")).toBeTruthy();this.$input.typeahead("destroy");expect(this.$input.data("tt-www")).toBeFalsy();expect(this.$input.data("tt-attrs")).toBeFalsy();expect(this.$input.data("tt-typeahead")).toBeFalsy()});it("#destroy should remove add classes",function(){expect(this.$input).toHaveClass("tt-input");this.$input.typeahead("destroy");expect(this.$input).not.toHaveClass("tt-input")});it("#destroy should revert DOM changes",function(){expect($(".twitter-typeahead")).toExist();this.$input.typeahead("destroy");expect($(".twitter-typeahead")).not.toExist()})});