/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
(function(d,c){if(typeof define==="function"&&define.amd){define("bloodhound",["jquery"],function(a){return d.Bloodhound=c(a)})}else{if(typeof exports==="object"){module.exports=c(require("jquery"))}else{d.Bloodhound=c(jQuery)}}})(this,function(u){var o=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function(c){return !c||/^\s*$/.test(c)},escapeRegExChars:function(c){return c.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(c){return typeof c==="string"},isNumber:function(c){return typeof c==="number"},isArray:u.isArray,isFunction:u.isFunction,isObject:u.isPlainObject,isUndefined:function(c){return typeof c==="undefined"},isElement:function(c){return !!(c&&c.nodeType===1)},isJQuery:function(c){return c instanceof u},toStr:function b(c){return o.isUndefined(c)||c===null?"":c+""},bind:u.proxy,each:function(c,e){u.each(c,d);function d(g,f){return e(f,g)}},map:u.map,filter:u.grep,every:function(d,c){var e=true;if(!d){return e}u.each(d,function(g,f){if(!(e=c.call(null,f,g,d))){return false}});return !!e},some:function(d,c){var e=false;if(!d){return e}u.each(d,function(g,f){if(e=c.call(null,f,g,d)){return false}});return !!e},mixin:u.extend,identity:function(c){return c},clone:function(c){return u.extend(true,{},c)},getIdGenerator:function(){var c=0;return function(){return c++}},templatify:function a(c){return u.isFunction(c)?c:d;function d(){return String(c)}},defer:function(c){setTimeout(c,0)},debounce:function(e,c,f){var d,g;return function(){var h=this,i=arguments,j,k;j=function(){d=null;if(!f){g=e.apply(h,i)}};k=f&&!d;clearTimeout(d);d=setTimeout(j,c);if(k){g=e.apply(h,i)}return g}},throttle:function(e,c){var g,h,d,j,f,i;f=0;i=function(){f=new Date();d=null;j=e.apply(g,h)};return function(){var l=new Date(),k=c-(l-f);g=this;h=arguments;if(k<=0){clearTimeout(d);d=null;f=l;j=e.apply(g,h)}else{if(!d){d=setTimeout(i,k)}}return j}},stringify:function(c){return o.isString(c)?c:JSON.stringify(c)},noop:function(){}}}();var m="0.11.1";var s=function(){return{nonword:a,whitespace:c,obj:{nonword:b(a),whitespace:b(c)}};function c(d){d=o.toStr(d);return d?d.split(/\s+/):[]}function a(d){d=o.toStr(d);return d?d.split(/\W+/):[]}function b(d){return function e(g){g=o.isArray(g)?g:[].slice.call(arguments,0);return function f(h){var i=[];o.each(g,function(j){i=i.concat(d(o.toStr(h[j])))});return i}}}}();var n=function(){function h(i){this.maxSize=o.isNumber(i)?i:100;this.reset();if(this.maxSize<=0){this.set=this.get=u.noop}}o.mixin(h.prototype,{set:function b(l,i){var j=this.list.tail,k;if(this.size>=this.maxSize){this.list.remove(j);delete this.hash[j.key];this.size--}if(k=this.hash[l]){k.val=i;this.list.moveToFront(k)}else{k=new g(l,i);this.list.add(k);this.hash[l]=k;this.size++}},get:function f(j){var i=this.hash[j];if(i){this.list.moveToFront(i);return i.val}},reset:function d(){this.size=0;this.hash={};this.list=new e()}});function e(){this.head=this.tail=null}o.mixin(e.prototype,{add:function c(i){if(this.head){i.next=this.head;this.head.prev=i}this.head=i;this.tail=this.tail||i},remove:function a(i){i.prev?i.prev.next=i.next:this.head=i.next;i.next?i.next.prev=i.prev:this.tail=i.prev},moveToFront:function(i){this.remove(i);this.add(i)}});function g(j,i){this.key=j;this.val=i;this.prev=this.next=null}return h}();var q=function(){var c;try{c=window.localStorage;c.setItem("~~~","!");c.removeItem("~~~")}catch(d){c=null}function f(h,i){this.prefix=["__",h,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+o.escapeRegExChars(this.prefix));this.ls=i||c;!this.ls&&this._noop()}o.mixin(f.prototype,{_prefix:function(h){return this.prefix+h},_ttlKey:function(h){return this._prefix(h)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=o.noop},_safeSet:function(j,h){try{this.ls.setItem(j,h)}catch(i){if(i.name==="QuotaExceededError"){this.clear();this._noop()}}},get:function(h){if(this.isExpired(h)){this.remove(h)}return b(this.ls.getItem(this._prefix(h)))},set:function(i,h,j){if(o.isNumber(j)){this._safeSet(this._ttlKey(i),e(g()+j))}else{this.ls.removeItem(this._ttlKey(i))}return this._safeSet(this._prefix(i),e(h))},remove:function(h){this.ls.removeItem(this._ttlKey(h));this.ls.removeItem(this._prefix(h));return this},clear:function(){var i,h=a(this.keyMatcher);for(i=h.length;i--;){this.remove(h[i])}return this},isExpired:function(h){var i=b(this.ls.getItem(this._ttlKey(h)));return o.isNumber(i)&&g()>i?true:false}});return f;function g(){return new Date().getTime()}function e(h){return JSON.stringify(o.isUndefined(h)?null:h)}function b(h){return u.parseJSON(h)}function a(k){var i,j,h=[],l=c.length;for(i=0;i<l;i++){if((j=c.key(i)).match(k)){h.push(j.replace(k,""))}}return h}}();var t=function(){var g=0,d={},a=6,e=new n(10);function b(i){i=i||{};this.cancelled=false;this.lastReq=null;this._send=i.transport;this._get=i.limiter?i.limiter(this._get):this._get;this._cache=i.cache===false?new n(0):e}b.setMaxPendingRequests=function h(i){a=i};b.resetCache=function c(){e.reset()};o.mixin(b.prototype,{_fingerprint:function f(i){i=i||{};return i.url+i.type+u.param(i.data||{})},_get:function(F,l){var j=this,E,D;E=this._fingerprint(F);if(this.cancelled||E!==this.lastReq){return}if(D=d[E]){D.done(i).fail(k)}else{if(g<a){g++;d[E]=this._send(F).done(i).fail(k).always(C)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}}function i(y){l(null,y);j._cache.set(E,y)}function k(){l(true)}function C(){g--;delete d[E];if(j.onDeckRequestArgs){j._get.apply(j,j.onDeckRequestArgs);j.onDeckRequestArgs=null}}},get:function(i,l){var j,k;l=l||u.noop;i=o.isString(i)?{url:i}:i||{};k=this._fingerprint(i);this.cancelled=false;this.lastReq=k;if(j=this._cache.get(k)){l(null,j)}else{this._get(i,l)}},cancel:function(){this.cancelled=true}});return b}();var x=window.SearchIndex=function(){var l="c",k="i";function f(y){y=y||{};if(!y.datumTokenizer||!y.queryTokenizer){u.error("datumTokenizer and queryTokenizer are both required")}this.identify=y.identify||o.stringify;this.datumTokenizer=y.datumTokenizer;this.queryTokenizer=y.queryTokenizer;this.reset()}o.mixin(f.prototype,{bootstrap:function d(y){this.datums=y.datums;this.trie=y.trie},add:function(y){var B=this;y=o.isArray(y)?y:[y];o.each(y,function(F){var A,E;B.datums[A=B.identify(F)]=F;E=b(B.datumTokenizer(F));o.each(E,function(J){var C,D,I;C=B.trie;D=J.split("");while(I=D.shift()){C=C[l][I]||(C[l][I]=j());C[k].push(A)}})})},get:function e(B){var y=this;return o.map(B,function(A){return y.datums[A]})},search:function g(F){var E=this,D,y;D=b(this.queryTokenizer(F));o.each(D,function(J){var A,B,C,I;if(y&&y.length===0){return false}A=E.trie;B=J.split("");while(A&&(C=B.shift())){A=A[l][C]}if(A&&B.length===0){I=A[k].slice(0);y=y?a(y,I):I}else{y=[];return false}});return y?o.map(c(y),function(A){return E.datums[A]}):[]},all:function i(){var B=[];for(var y in this.datums){B.push(this.datums[y])}return B},reset:function z(){this.datums={};this.trie=j()},serialize:function h(){return{datums:this.datums,trie:this.trie}}});return f;function b(y){y=o.filter(y,function(B){return !!B});y=o.map(y,function(B){return B.toLowerCase()});return y}function j(){var y={};y[k]=[];y[l]={};return y}function c(E){var y={},G=[];for(var H=0,F=E.length;H<F;H++){if(!y[E[H]]){y[E[H]]=true;G.push(E[H])}}return G}function a(H,K){var y=0,I=0,G=[];H=H.sort();K=K.sort();var L=H.length,J=K.length;while(y<L&&I<J){if(H[y]<K[I]){y++}else{if(H[y]>K[I]){I++}else{G.push(H[y]);y++;I++}}}return G}}();var r=function(){var c;c={data:"data",protocol:"protocol",thumbprint:"thumbprint"};function b(g){this.url=g.url;this.ttl=g.ttl;this.cache=g.cache;this.prepare=g.prepare;this.transform=g.transform;this.transport=g.transport;this.thumbprint=g.thumbprint;this.storage=new q(g.cacheKey)}o.mixin(b.prototype,{_settings:function d(){return{url:this.url,type:"GET",dataType:"json"}},store:function f(g){if(!this.cache){return}this.storage.set(c.data,g,this.ttl);this.storage.set(c.protocol,location.protocol,this.ttl);this.storage.set(c.thumbprint,this.thumbprint,this.ttl)},fromCache:function e(){var h={},g;if(!this.cache){return null}h.data=this.storage.get(c.data);h.protocol=this.storage.get(c.protocol);h.thumbprint=this.storage.get(c.thumbprint);g=h.thumbprint!==this.thumbprint||h.protocol!==location.protocol;return h.data&&!g?h.data:null},fromNetwork:function(k){var h=this,j;if(!k){return}j=this.prepare(this._settings());this.transport(j).fail(i).done(g);function i(){k(true)}function g(l){k(null,h.transform(l))}},clear:function a(){this.storage.clear();return this}});return b}();var v=function(){function c(e){this.url=e.url;this.prepare=e.prepare;this.transform=e.transform;this.transport=new t({cache:e.cache,limiter:e.limiter,transport:e.transport})}o.mixin(c.prototype,{_settings:function d(){return{url:this.url,type:"GET",dataType:"json"}},get:function a(f,i){var g=this,h;if(!i){return}f=f||"";h=this.prepare(f,this._settings());return this.transport.get(h,e);function e(k,j){k?i([]):i(g.transform(j))}},cancelLastRequest:function b(){this.transport.cancel()}});return c}();var w=function(){return function c(h){var i,g;i={initialize:true,identify:o.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null};h=o.mixin(i,h||{});!h.datumTokenizer&&u.error("datumTokenizer is required");!h.queryTokenizer&&u.error("queryTokenizer is required");g=h.sorter;h.sorter=g?function(j){return j.sort(g)}:o.identity;h.local=o.isFunction(h.local)?h.local():h.local;h.prefetch=f(h.prefetch);h.remote=a(h.remote);return h};function f(g){var h;if(!g){return null}h={url:null,ttl:24*60*60*1000,cache:true,cacheKey:null,thumbprint:"",prepare:o.identity,transform:o.identity,transport:null};g=o.isString(g)?{url:g}:g;g=o.mixin(h,g);!g.url&&u.error("prefetch requires url to be set");g.transform=g.filter||g.transform;g.cacheKey=g.cacheKey||g.url;g.thumbprint=m+g.thumbprint;g.transport=g.transport?e(g.transport):u.ajax;return g}function a(g){var h;if(!g){return}h={url:null,cache:true,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:o.identity,transport:null};g=o.isString(g)?{url:g}:g;g=o.mixin(h,g);!g.url&&u.error("remote requires url to be set");g.transform=g.filter||g.transform;g.prepare=b(g);g.limiter=d(g);g.transport=g.transport?e(g.transport):u.ajax;delete g.replace;delete g.wildcard;delete g.rateLimitBy;delete g.rateLimitWait;return g}function b(z){var i,g,k;i=z.prepare;g=z.replace;k=z.wildcard;if(i){return i}if(g){i=l}else{if(z.wildcard){i=j}else{i=h}}return i;function l(y,B){B.url=g(B.url,y);return B}function j(y,B){B.url=B.url.replace(k,encodeURIComponent(y));return B}function h(y,B){return B}}function d(h){var l,g,i;l=h.limiter;g=h.rateLimitBy;i=h.rateLimitWait;if(!l){l=/^throttle$/i.test(g)?j(i):k(i)}return l;function k(A){return function B(y){return o.debounce(y,A)}}function j(A){return function B(y){return o.throttle(y,A)}}}function e(h){return function g(i){var l=u.Deferred();h(i,j,k);return l;function j(z){o.defer(function(){l.resolve(z)})}function k(z){o.defer(function(){l.reject(z)})}}}}();var p=function(){var d;d=window&&window.Bloodhound;function z(y){y=w(y);this.sorter=y.sorter;this.identify=y.identify;this.sufficient=y.sufficient;this.local=y.local;this.remote=y.remote?new v(y.remote):null;this.prefetch=y.prefetch?new r(y.prefetch):null;this.index=new x({identify:this.identify,datumTokenizer:y.datumTokenizer,queryTokenizer:y.queryTokenizer});y.initialize!==false&&this.initialize()}z.noConflict=function a(){window&&(window.Bloodhound=d);return z};z.tokenizers=s;o.mixin(z.prototype,{__ttAdapter:function l(){var D=this;return this.remote?y:C;function y(A,B,F){return D.search(A,B,F)}function C(A,B){return D.search(A,B)}},_loadPrefetch:function f(){var F=this,y,E;y=u.Deferred();if(!this.prefetch){y.resolve()}else{if(E=this.prefetch.fromCache()){this.index.bootstrap(E);y.resolve()}else{this.prefetch.fromNetwork(D)}}return y.promise();function D(B,A){if(B){return y.reject()}F.add(A);F.prefetch.store(F.index.serialize());y.resolve()}},_initialize:function c(){var D=this,C;this.clear();(this.initPromise=this._loadPrefetch()).done(y);return this.initPromise;function y(){D.add(D.local)}},initialize:function c(y){return !this.initPromise||y?this._initialize():this.initPromise},add:function h(y){this.index.add(y);return this},get:function e(y){y=o.isArray(y)?y:[].slice.call(arguments);return this.index.get(y)},search:function g(G,I,y){var J=this,H;H=this.sorter(this.index.search(G));I(this.remote?H.slice():H);if(this.remote&&H.length<this.sufficient){this.remote.get(G,F)}else{if(this.remote){this.remote.cancelLastRequest()}}return this;function F(A){var B=[];o.each(A,function(C){!o.some(H,function(D){return J.identify(C)===J.identify(D)})&&B.push(C)});y&&y(B)}},all:function k(){return this.index.all()},clear:function b(){this.index.reset();return this},clearPrefetchCache:function i(){this.prefetch&&this.prefetch.clear();return this},clearRemoteCache:function j(){t.resetCache();return this},ttAdapter:function l(){return this.__ttAdapter()}});return z}();return p});